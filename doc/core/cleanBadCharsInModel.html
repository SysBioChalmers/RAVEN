<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of cleanBadCharsInModel</title>
  <meta name="keywords" content="cleanBadCharsInModel">
  <meta name="description" content="cleanBadCharsInModel">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html v1.5 &copy; 2003-2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../index.html">Home</a> &gt;  <a href="index.html">core</a> &gt; cleanBadCharsInModel.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../index.html"><img alt="<" border="0" src="../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for core&nbsp;<img alt=">" border="0" src="../right.png"></a></td></tr></table>-->

<h1>cleanBadCharsInModel
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>cleanBadCharsInModel</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>function model=cleanBadCharsInModel(model) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre class="comment"> cleanBadCharsInModel
   Converts characters which are illegal in SBML to their entity reference

   model    a model structure

   model   a model structure without characters which are illegal in SBML

   The characters &lt;&gt;&amp;'&quot; are illegal in SBML (in most cases). They are here
   converted to their entity references. The main purpose of this function
   is for using in exportModel to ensure that the resulting SBML file is
   valid.

   Usage: model=cleanBadCharsInModel(model)

   Rasmus Agren, 2013-08-03</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../matlabicon.gif)">
<li><a href="cleanBadChars.html" class="code" title="function strings=cleanBadChars(strings)">cleanBadChars</a>	cleanBadChars</li></ul>
This function is called by:
<ul style="list-style-image:url(../matlabicon.gif)">
</ul>
<!-- crossreference -->



<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function model=cleanBadCharsInModel(model)</a>
0002 <span class="comment">% cleanBadCharsInModel</span>
0003 <span class="comment">%   Converts characters which are illegal in SBML to their entity reference</span>
0004 <span class="comment">%</span>
0005 <span class="comment">%   model    a model structure</span>
0006 <span class="comment">%</span>
0007 <span class="comment">%   model   a model structure without characters which are illegal in SBML</span>
0008 <span class="comment">%</span>
0009 <span class="comment">%   The characters &lt;&gt;&amp;'&quot; are illegal in SBML (in most cases). They are here</span>
0010 <span class="comment">%   converted to their entity references. The main purpose of this function</span>
0011 <span class="comment">%   is for using in exportModel to ensure that the resulting SBML file is</span>
0012 <span class="comment">%   valid.</span>
0013 <span class="comment">%</span>
0014 <span class="comment">%   Usage: model=cleanBadCharsInModel(model)</span>
0015 <span class="comment">%</span>
0016 <span class="comment">%   Rasmus Agren, 2013-08-03</span>
0017 <span class="comment">%</span>
0018 
0019 <span class="comment">%These are IDs and shouldn't have to be checked since it's illegal to have</span>
0020 <span class="comment">%non-alphanumeric characters there. This should be checked in</span>
0021 <span class="comment">%checkModelStruct instead.</span>
0022 model.id=<a href="cleanBadChars.html" class="code" title="function strings=cleanBadChars(strings)">cleanBadChars</a>(model.id);
0023 model.mets=<a href="cleanBadChars.html" class="code" title="function strings=cleanBadChars(strings)">cleanBadChars</a>(model.mets);
0024 model.rxns=<a href="cleanBadChars.html" class="code" title="function strings=cleanBadChars(strings)">cleanBadChars</a>(model.rxns);
0025 model.comps=<a href="cleanBadChars.html" class="code" title="function strings=cleanBadChars(strings)">cleanBadChars</a>(model.comps);
0026 <span class="keyword">if</span> isfield(model,<span class="string">'compOutside'</span>)
0027     model.compOutside=<a href="cleanBadChars.html" class="code" title="function strings=cleanBadChars(strings)">cleanBadChars</a>(model.compOutside);
0028 <span class="keyword">end</span>
0029 
0030 <span class="keyword">if</span> isfield(model,<span class="string">'compNames'</span>)
0031     model.compNames=<a href="cleanBadChars.html" class="code" title="function strings=cleanBadChars(strings)">cleanBadChars</a>(model.compNames);
0032 <span class="keyword">end</span>
0033 <span class="keyword">if</span> isfield(model,<span class="string">'description'</span>)
0034     model.description=<a href="cleanBadChars.html" class="code" title="function strings=cleanBadChars(strings)">cleanBadChars</a>(model.description);
0035 <span class="keyword">end</span>
0036 <span class="keyword">if</span> isfield(model,<span class="string">'rxnNames'</span>)
0037     model.rxnNames=<a href="cleanBadChars.html" class="code" title="function strings=cleanBadChars(strings)">cleanBadChars</a>(model.rxnNames);
0038 <span class="keyword">end</span>
0039 <span class="keyword">if</span> isfield(model,<span class="string">'grRules'</span>)
0040     model.grRules=<a href="cleanBadChars.html" class="code" title="function strings=cleanBadChars(strings)">cleanBadChars</a>(model.grRules);
0041 <span class="keyword">end</span>
0042 <span class="keyword">if</span> isfield(model,<span class="string">'subSystems'</span>)
0043     model.subSystems=<a href="cleanBadChars.html" class="code" title="function strings=cleanBadChars(strings)">cleanBadChars</a>(model.subSystems);
0044 <span class="keyword">end</span>
0045 <span class="keyword">if</span> isfield(model,<span class="string">'eccodes'</span>)
0046     model.eccodes=<a href="cleanBadChars.html" class="code" title="function strings=cleanBadChars(strings)">cleanBadChars</a>(model.eccodes);
0047 <span class="keyword">end</span>
0048 <span class="keyword">if</span> isfield(model,<span class="string">'metNames'</span>)
0049     model.metNames=<a href="cleanBadChars.html" class="code" title="function strings=cleanBadChars(strings)">cleanBadChars</a>(model.metNames);
0050 <span class="keyword">end</span>       
0051 <span class="keyword">if</span> isfield(model,<span class="string">'genes'</span>)
0052     model.genes=<a href="cleanBadChars.html" class="code" title="function strings=cleanBadChars(strings)">cleanBadChars</a>(model.genes);
0053 <span class="keyword">end</span>    
0054 <span class="keyword">if</span> isfield(model,<span class="string">'geneShortName'</span>)
0055     model.geneShortName=<a href="cleanBadChars.html" class="code" title="function strings=cleanBadChars(strings)">cleanBadChars</a>(model.geneShortName);
0056 <span class="keyword">end</span> 
0057 <span class="keyword">if</span> isfield(model,<span class="string">'inchis'</span>)
0058     model.inchis=<a href="cleanBadChars.html" class="code" title="function strings=cleanBadChars(strings)">cleanBadChars</a>(model.inchis);
0059 <span class="keyword">end</span>   
0060 <span class="keyword">if</span> isfield(model,<span class="string">'metFormulas'</span>)
0061     model.metFormulas=<a href="cleanBadChars.html" class="code" title="function strings=cleanBadChars(strings)">cleanBadChars</a>(model.metFormulas);
0062 <span class="keyword">end</span>   
0063 
0064 <span class="comment">%These fields are cell arrays of structures</span>
0065 <span class="keyword">if</span> isfield(model,<span class="string">'metMiriams'</span>)
0066     <span class="keyword">for</span> i=1:numel(model.metMiriams)
0067        <span class="keyword">if</span> ~isempty(model.metMiriams{i})
0068            model.metMiriams{i}.name=<a href="cleanBadChars.html" class="code" title="function strings=cleanBadChars(strings)">cleanBadChars</a>(model.metMiriams{i}.name);
0069            model.metMiriams{i}.value=<a href="cleanBadChars.html" class="code" title="function strings=cleanBadChars(strings)">cleanBadChars</a>(model.metMiriams{i}.value);
0070        <span class="keyword">end</span>
0071     <span class="keyword">end</span>
0072 <span class="keyword">end</span>
0073 <span class="keyword">if</span> isfield(model,<span class="string">'rxnMiriams'</span>)
0074     <span class="keyword">for</span> i=1:numel(model.rxnMiriams)
0075        <span class="keyword">if</span> ~isempty(model.rxnMiriams{i})
0076            model.rxnMiriams{i}.name=<a href="cleanBadChars.html" class="code" title="function strings=cleanBadChars(strings)">cleanBadChars</a>(model.rxnMiriams{i}.name);
0077            model.rxnMiriams{i}.value=<a href="cleanBadChars.html" class="code" title="function strings=cleanBadChars(strings)">cleanBadChars</a>(model.rxnMiriams{i}.value);
0078        <span class="keyword">end</span>
0079     <span class="keyword">end</span>
0080 <span class="keyword">end</span>
0081 <span class="keyword">if</span> isfield(model,<span class="string">'compMiriams'</span>)
0082     <span class="keyword">for</span> i=1:numel(model.compMiriams)
0083        <span class="keyword">if</span> ~isempty(model.compMiriams{i})
0084            model.compMiriams{i}.name=<a href="cleanBadChars.html" class="code" title="function strings=cleanBadChars(strings)">cleanBadChars</a>(model.compMiriams{i}.name);
0085            model.compMiriams{i}.value=<a href="cleanBadChars.html" class="code" title="function strings=cleanBadChars(strings)">cleanBadChars</a>(model.compMiriams{i}.value);
0086        <span class="keyword">end</span>
0087     <span class="keyword">end</span>
0088 <span class="keyword">end</span>
0089 <span class="keyword">if</span> isfield(model,<span class="string">'geneMiriams'</span>)
0090     <span class="keyword">for</span> i=1:numel(model.geneMiriams)
0091        <span class="keyword">if</span> ~isempty(model.geneMiriams{i})
0092            model.geneMiriams{i}.name=<a href="cleanBadChars.html" class="code" title="function strings=cleanBadChars(strings)">cleanBadChars</a>(model.geneMiriams{i}.name);
0093            model.geneMiriams{i}.value=<a href="cleanBadChars.html" class="code" title="function strings=cleanBadChars(strings)">cleanBadChars</a>(model.geneMiriams{i}.value);
0094        <span class="keyword">end</span>
0095     <span class="keyword">end</span>
0096 <span class="keyword">end</span>
0097 <span class="keyword">end</span></pre></div>
<hr><address>Generated on Tue 28-Feb-2017 23:41:43 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" title="Matlab Documentation in HTML">m2html</a></strong> &copy; 2005</address>
</body>
</html>